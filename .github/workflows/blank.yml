name: Manually triggered workflow
on:
  workflow_dispatch:
    inputs:
      name:
        description: 'Person to greet'
        required: true
        default: 'Mona the Octocat'
      home:
        description: 'location'
        required: false
        default: 'The Octoverse'

jobs:
  say_hello:
    runs-on: ubuntu-latest
    outputs:
      firstname: ${{ env.FIRSTNAME }}
    steps:
      - run: |
          echo "Hello ${{ github.event.inputs.name }}!"
          echo "- in ${{ github.event.inputs.home }}!"
          echo "FIRSTNAME=dev" >> $GITHUB_ENV
  say_hi:
    needs: say_hello
    runs-on: ubuntu-latest
    outputs:
      lastname: ${{ needs.say_hello.outputs.firstname }}
    env:
      first_name: ${{ needs.say_hello.outputs.firstname }}
    
    steps:
      - run: |
          echo "Hi ${{ github.event.inputs.name }} ${{ env.first_name }} !"
  say_bye:
    needs: say_hi
    env:
      last_name: ${{ needs.say_hi.outputs.lastname }}
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "Hi, my lastname is: ${{ env.last_name }} !"
